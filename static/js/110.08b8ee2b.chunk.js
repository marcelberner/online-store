"use strict";(self.webpackChunksklep_internetowy=self.webpackChunksklep_internetowy||[]).push([[110],{1309:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(184),r=function(e){return(0,s.jsx)("input",{onClick:e.action,className:"submit-button ".concat("small"===e.size&&"submit-button--small"," ").concat("large"===e.size&&"submit-button--large"," ").concat("medium"===e.size&&"submit-button--medium"),type:"submit",value:e.text})}},4110:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s=n(885),r=n(2791),a=n(343),o=n(184),i=function(e){return(0,o.jsxs)("div",{className:"auth-select",children:[(0,o.jsx)("div",{onClick:e.switchLoginForm,className:"auth-select__option ".concat("login"===e.currentForm&&"auth-select__option--selected"),children:(0,o.jsx)("span",{children:"Zaloguj si\u0119"})}),(0,o.jsx)("div",{onClick:e.switchSignupForm,className:"auth-select__option ".concat("signup"===e.currentForm&&"auth-select__option--selected"),children:(0,o.jsx)("span",{children:"Za\u0142\xf3\u017c konto"})})]})},c=n(5861),u=n(7757),l=n.n(u),p=n(6871),m=n(6030),d=n(3053),h=n(7950),g=function(){var e=(0,d.Z)().dataRequest,t=(0,r.useState)(),n=(0,s.Z)(t,2),a=n[0],o=n[1],i=(0,p.s0)(),u=(0,m.I0)(),g=function(){var t=(0,c.Z)(l().mark((function t(n){var s,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.password===n.cnfPassword){t.next=3;break}throw new Error("Wpisz poprawnie has\u0142o");case 3:if(n.checkbox){t.next=5;break}throw new Error("Zaznacz wymagane pole");case 5:return"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU","https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU",t.next=9,fetch("".concat("login"===n.currentForm?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU":"").concat("signup"===n.currentForm?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU":""),{method:"POST",body:JSON.stringify({email:n.email,password:n.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 9:if((s=t.sent).ok){t.next=12;break}throw new Error("B\u0142\u0105d przy logowaniu");case 12:return t.next=14,s.json();case 14:r=t.sent,i("/"),localStorage.setItem("token",r.localId),"signup"===n.currentForm&&e({method:"POST",database:"users",body:{userId:r.localId,email:n.email,name:"",surname:"",address:{city:"",street:"",zipcode:""},cart:!1,wishlist:!1,admin:!1}}),u((0,h.x4)(r.localId)),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0.message),o(t.t0.message);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}();return{authRequest:g,error:a}},f=n(1309),x=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(),s=(0,r.useRef)(),a=(0,r.useRef)(),i=g().authRequest;return(0,o.jsx)("div",{className:"auth-form",children:(0,o.jsxs)("form",{onSubmit:function(r){r.preventDefault();var o=t.current.value,c=n.current.value,u="signup"===e.currentForm?s.current.value:c,l="signup"!==e.currentForm||a.current.value;i({currentForm:e.currentForm,email:o,password:c,cnfPassword:u,checkbox:l})},children:[(0,o.jsx)("div",{className:"auth-form__content",children:(0,o.jsx)("input",{className:"auth-form__input",type:"email",name:"email",placeholder:"e-mail",ref:t,required:!0})}),(0,o.jsx)("div",{className:"auth-form__content",children:(0,o.jsx)("input",{className:"auth-form__input",type:"password",name:"password",placeholder:"has\u0142o",ref:n,required:!0})}),"signup"===e.currentForm&&(0,o.jsx)("div",{className:"auth-form__content",children:(0,o.jsx)("input",{className:"auth-form__input",type:"password",name:"password",placeholder:"powt\xf3rz has\u0142o",ref:s,required:!0})}),"signup"===e.currentForm&&(0,o.jsxs)("label",{className:"auth-form__content",children:[(0,o.jsx)("input",{className:"auth-form__input--checkbox",type:"checkbox",name:"accept-rules",ref:a,required:!0}),(0,o.jsx)("span",{className:"auth-form__label",children:"Akceptuj\u0119 regulamin sklepu Internetowego."})]}),(0,o.jsxs)("div",{className:"auth-form__content",children:["login"===e.currentForm&&(0,o.jsx)(f.Z,{text:"Zaloguj si\u0119",size:"large"}),"signup"===e.currentForm&&(0,o.jsx)(f.Z,{text:"Za\u0142\xf3\u017c konto",size:"large"})]})]})})},_=function(){var e=(0,r.useState)("login"),t=(0,s.Z)(e,2),n=t[0],c=t[1];return(0,o.jsx)("section",{className:"login-page",style:{backgroundImage:"url(../images/login-bg.png)"},children:(0,o.jsxs)("div",{className:"login-page__container",children:[(0,o.jsx)("div",{className:"login-page__header",children:(0,o.jsx)(a.Z,{})}),(0,o.jsx)(i,{switchLoginForm:function(){c("login")},switchSignupForm:function(){c("signup")},currentForm:n}),(0,o.jsxs)("div",{className:"login-page__content",children:["login"===n&&(0,o.jsx)(x,{currentForm:n}),"signup"===n&&(0,o.jsx)(x,{currentForm:n})]})]})})}}}]);
//# sourceMappingURL=110.08b8ee2b.chunk.js.map
{"version":3,"file":"static/js/110.08b8ee2b.chunk.js","mappings":"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","sources":["components/Button/SubmitButton.js","components/Form/AuthForm/AuthSelect.js","hooks/useAuth.js","components/Form/AuthForm/AuthForm.js","pages/AuthPages/LoginPage.js"],"sourcesContent":["import \"./SubmitButton.scss\";\r\n\r\nconst SubmitButton = (props) => {\r\n  return (\r\n    <input\r\n      onClick={props.action}\r\n      className={`submit-button ${\r\n        props.size === \"small\" && \"submit-button--small\"\r\n      } ${\r\n        props.size === \"large\" && \"submit-button--large\"\r\n      } ${\r\n        props.size === \"medium\" && \"submit-button--medium\"\r\n      }`}\r\n      type=\"submit\"\r\n      value={props.text}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n","import \"./AuthSelect.scss\";\r\n\r\nconst AuthSelect = (props) => {\r\n  return (\r\n    <div className=\"auth-select\">\r\n      <div\r\n        onClick={props.switchLoginForm}\r\n        className={`auth-select__option ${\r\n            props.currentForm === \"login\" && \"auth-select__option--selected\"\r\n        }`}\r\n      >\r\n        <span>Zaloguj się</span>\r\n      </div>\r\n      <div\r\n        onClick={props.switchSignupForm}\r\n        className={`auth-select__option ${\r\n            props.currentForm === \"signup\" && \"auth-select__option--selected\"\r\n        }`}\r\n      >\r\n        <span>Załóż konto</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthSelect;\r\n","import { useState } from \"react\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport useData from \"./useData\";\r\nimport { login } from \"../store/userAuth\";\r\n\r\nconst useAuth = () => {\r\n  const { dataRequest } = useData();\r\n\r\n  const [error, setError] = useState();\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const authRequest = async (data) => {\r\n    try {\r\n      if (data.password !== data.cnfPassword)\r\n        throw new Error(\"Wpisz poprawnie hasło\");\r\n\r\n      if (!data.checkbox) throw new Error(\"Zaznacz wymagane pole\");\r\n\r\n      const loginURL = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU\";\r\n      const signupURL = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDkqipfOWliQ3pu_Vuz3-5mVFQnpD3XRFU\";\r\n\r\n      const response = await fetch(\r\n        `${data.currentForm === \"login\" ? loginURL : \"\"}${\r\n          data.currentForm === \"signup\" ? signupURL : \"\"\r\n        }`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            email: data.email,\r\n            password: data.password,\r\n            returnSecureToken: true,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if(!response.ok) throw new Error(\"Błąd przy logowaniu\");\r\n\r\n      const resData = await response.json();\r\n\r\n      navigate(\"/\");\r\n\r\n      localStorage.setItem(\"token\", resData.localId);\r\n\r\n      if (data.currentForm === \"signup\") {\r\n        dataRequest({\r\n          method: \"POST\",\r\n          database: \"users\",\r\n          body: {\r\n            userId: resData.localId,\r\n            email: data.email,\r\n            name: \"\",\r\n            surname: \"\",\r\n            address: {\r\n              city: \"\",\r\n              street: \"\",\r\n              zipcode: \"\",\r\n            },\r\n            cart: false,\r\n            wishlist: false,\r\n            admin: false,\r\n          },\r\n        });\r\n      }\r\n\r\n      dispatch(login(resData.localId));\r\n    } \r\n    catch (error) {\r\n      console.log(error.message);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return { authRequest, error};\r\n};\r\n\r\nexport default useAuth;\r\n","import { useRef } from \"react\";\r\n\r\nimport useAuth from \"../../../hooks/useAuth\";\r\n\r\nimport SubmitButton from \"../../Button/SubmitButton\";\r\n\r\nimport \"./AuthForm.scss\";\r\n\r\nconst AuthForm = (props) => {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const cnfPassword = useRef();\r\n  const checkbox = useRef();\r\n\r\n  const { authRequest } = useAuth();\r\n\r\n  const userAuthHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const currentEmail = email.current.value;\r\n    const currentPassword = password.current.value;\r\n    const currentCnfPassword =\r\n      props.currentForm === \"signup\"\r\n        ? cnfPassword.current.value\r\n        : currentPassword;\r\n    const currentCheckbox =\r\n      props.currentForm === \"signup\" ? checkbox.current.value : true;\r\n\r\n    authRequest({\r\n      currentForm: props.currentForm,\r\n      email: currentEmail,\r\n      password: currentPassword,\r\n      cnfPassword: currentCnfPassword,\r\n      checkbox: currentCheckbox,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-form\">\r\n      <form onSubmit={userAuthHandler}>\r\n        <div className=\"auth-form__content\">\r\n          <input\r\n            className=\"auth-form__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"e-mail\"\r\n            ref={email}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"auth-form__content\">\r\n          <input\r\n            className=\"auth-form__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"hasło\"\r\n            ref={password}\r\n            required\r\n          />\r\n        </div>\r\n        {props.currentForm === \"signup\" && (\r\n          <div className=\"auth-form__content\">\r\n            <input\r\n              className=\"auth-form__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"powtórz hasło\"\r\n              ref={cnfPassword}\r\n              required\r\n            />\r\n          </div>\r\n        )}\r\n        {props.currentForm === \"signup\" && (\r\n          <label className=\"auth-form__content\">\r\n            <input\r\n              className=\"auth-form__input--checkbox\"\r\n              type=\"checkbox\"\r\n              name=\"accept-rules\"\r\n              ref={checkbox}\r\n              required\r\n            />\r\n            <span className=\"auth-form__label\">\r\n              Akceptuję regulamin sklepu Internetowego.\r\n            </span>\r\n          </label>\r\n        )}\r\n        <div className=\"auth-form__content\">\r\n          {props.currentForm === \"login\" && (\r\n            <SubmitButton text={\"Zaloguj się\"} size={\"large\"}/>\r\n          )}\r\n          {props.currentForm === \"signup\" && (\r\n            <SubmitButton text={\"Załóż konto\"} size={\"large\"}/>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { React, useState } from \"react\";\r\n\r\nimport Logo from \"../../components/header/Logo\";\r\nimport AuthSelect from \"../../components/Form/AuthForm/AuthSelect\";\r\nimport AuthForm from \"../../components/Form/AuthForm/AuthForm\";\r\n\r\nimport \"./LoginPage.scss\";\r\n\r\nconst LoginPage = () => {\r\n  const [currentForm, setCurrentForm] = useState(\"login\");\r\n\r\n  const switchLoginFormHandler = () => {\r\n    setCurrentForm(\"login\");\r\n  };\r\n\r\n  const switchSignupFormHandler = () => {\r\n    setCurrentForm(\"signup\");\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className=\"login-page\"\r\n      style={{ backgroundImage: `url(../images/login-bg.png)` }}\r\n    >\r\n      <div className=\"login-page__container\">\r\n        <div className=\"login-page__header\">\r\n          <Logo />\r\n        </div>\r\n        <AuthSelect\r\n          switchLoginForm={switchLoginFormHandler}\r\n          switchSignupForm={switchSignupFormHandler}\r\n          currentForm={currentForm}\r\n        />\r\n        <div className=\"login-page__content\">\r\n          {currentForm === \"login\" && <AuthForm currentForm={currentForm} />}\r\n          {currentForm === \"signup\" && <AuthForm currentForm={currentForm} />}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["props","onClick","action","className","size","type","value","text","switchLoginForm","currentForm","switchSignupForm","dataRequest","useData","useState","error","setError","navigate","useNavigate","dispatch","useDispatch","authRequest","data","password","cnfPassword","Error","checkbox","fetch","method","body","JSON","stringify","email","returnSecureToken","headers","response","ok","json","resData","localStorage","setItem","localId","database","userId","name","surname","address","city","street","zipcode","cart","wishlist","admin","login","console","log","message","useRef","useAuth","onSubmit","event","preventDefault","currentEmail","current","currentPassword","currentCnfPassword","currentCheckbox","placeholder","ref","required","SubmitButton","setCurrentForm","style","backgroundImage","Logo"],"sourceRoot":""}
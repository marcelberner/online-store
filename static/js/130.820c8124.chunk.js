"use strict";(self.webpackChunksklep_internetowy=self.webpackChunksklep_internetowy||[]).push([[130],{7193:function(t,a,e){e.d(a,{Z:function(){return d}});var c=e(5861),n=e(7757),r=e.n(n),s=e(6030),i=e(3053),u=e(3495),o=e(3350),m=e(184),d=function(t){var a=(0,s.v9)((function(t){return t.userData.userData})),e=(0,s.v9)((function(t){return t.userAuth.token})),n=(0,s.I0)(),d=(0,i.Z)().dataRequest,p=function(){var s=(0,c.Z)(r().mark((function c(){return r().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e){c.next=6;break}return c.next=3,d({method:"PATCH",database:"users/".concat(a.id,"/cart/").concat(t.cart.id),body:{productId:t.id,amount:t.amount+1,price:t.price}});case 3:c.sent,c.next=7;break;case 6:n((0,o.S0)({productId:t.cart.productId,amount:t.cart.amount,price:t.cart.price}));case 7:n((0,u.W)());case 8:case"end":return c.stop()}}),c)})));return function(){return s.apply(this,arguments)}}(),f=function(){var s=(0,c.Z)(r().mark((function c(){return r().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e){c.next=7;break}return 1===t.amount&&l(),c.next=4,d({method:"PATCH",database:"users/".concat(a.id,"/cart/").concat(t.cart.id),body:{productId:t.id,amount:t.amount-1,price:t.price}});case 4:c.sent,c.next=8;break;case 7:n((0,o.Ee)({productId:t.cart.productId,amount:t.cart.amount,price:t.cart.price}));case 8:n((0,u.W)());case 9:case"end":return c.stop()}}),c)})));return function(){return s.apply(this,arguments)}}(),l=function(){var s=(0,c.Z)(r().mark((function c(){return r().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e){c.next=6;break}return c.next=3,d({method:"DELETE",database:"users/".concat(a.id,"/cart/").concat(t.cart.id)});case 3:c.sent,c.next=7;break;case 6:n((0,o.VE)({productId:t.cart.productId,amount:t.cart.amount,price:t.cart.price}));case 7:n((0,u.W)());case 8:case"end":return c.stop()}}),c)})));return function(){return s.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"cart-item ".concat(t.compact?"cart-item--compact":""),children:[(0,m.jsx)("img",{src:t.img,alt:"product img",className:"cart-item__image ".concat(t.compact?"cart-item__image--compact":"")}),(0,m.jsx)("div",{className:"cart-item__name",children:(0,m.jsx)("span",{children:t.name})}),(0,m.jsxs)("div",{className:"cart-item__amount ".concat(t.compact?"cart-item__amount--hide":""),children:[(0,m.jsx)("i",{className:"fa-solid fa-plus cart-item__icon",onClick:p}),(0,m.jsx)("span",{className:"cart-item__number",children:t.amount}),(0,m.jsx)("i",{className:"fa-solid fa-minus cart-item__icon",onClick:f})]}),(0,m.jsx)("div",{className:"cart-item__remove ".concat(t.compact?"cart-item__remove--hide":""),children:(0,m.jsx)("i",{className:"fa-solid fa-trash-can cart-item__icon",onClick:l})})]})}},8130:function(t,a,e){e.r(a),e.d(a,{default:function(){return f}});var c=e(5861),n=e(885),r=e(7757),s=e.n(r),i=e(2791),u=e(6030),o=e(3053),m=e(7120),d=e(7193),p=e(184),f=function(){var t=(0,u.v9)((function(t){return t.userData.cart})),a=(0,i.useState)(),e=(0,n.Z)(a,2),r=e[0],f=e[1],l=(0,u.I0)(),h=(0,o.Z)().dataRequest,x=(0,i.useCallback)((0,c.Z)(s().mark((function a(){var e,c,n,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h({method:"GET",database:"products"});case 2:for(e=a.sent,c=[],n=function(a){var n=e.find((function(e){return e.id===t[a].productId}));c.push(n)},r=0;r<t.length;r++)n(r);l((0,m.RU)(c)),f(c);case 8:case"end":return a.stop()}}),a)}))),[t,l,h]);return(0,i.useEffect)((function(){x()}),[x]),(0,p.jsx)("div",{className:"cart-items",children:r&&r.map((function(a,e){return(0,p.jsx)(d.Z,{img:a.img,name:a.name,amount:t[e]&&t[e].amount,cart:t[e]},e)}))})}}}]);
//# sourceMappingURL=130.820c8124.chunk.js.map
"use strict";(self.webpackChunksklep_internetowy=self.webpackChunksklep_internetowy||[]).push([[198],{1198:function(e,s,r){r.r(s),r.d(s,{default:function(){return u}});var a=r(5861),n=r(885),c=r(7757),t=r.n(c),d=r(2791),l=r(6030),i=r(3053),o=r(184),u=function(){var e=(0,l.v9)((function(e){return e.userAuth.token})),s=(0,d.useState)(),r=(0,n.Z)(s,2),c=r[0],u=r[1],h=(0,d.useState)(),_=(0,n.Z)(h,2),m=_[0],p=_[1],f=(0,i.Z)().dataRequest,j=(0,d.useCallback)((0,a.Z)(t().mark((function s(){var r,a,n,c;return t().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f({method:"GET",database:"orders"});case 2:return r=s.sent,s.next=5,f({method:"GET",database:"products"});case 5:a=s.sent,n=r.filter((function(s){return s.userId===e})),u(n),c=[],n.forEach((function(e){for(var s=[],r=function(r){var n=a.find((function(s){return s.id===e.products[r].productId}));s.push(n.name)},n=0;n<e.products.length;n++)r(n);c.push(s)})),p(c);case 11:case"end":return s.stop()}}),s)}))),[f,e]);return(0,d.useEffect)((function(){j()}),[j]),(0,o.jsx)("section",{className:"orders",children:(0,o.jsx)("div",{className:"orders__container",children:c&&c.length>0?c.map((function(e,s){return(0,o.jsxs)("div",{className:"orders__item",children:[(0,o.jsxs)("div",{className:"orders__column",children:[(0,o.jsx)("span",{className:"orders__label",children:"Numer zam\xf3wienia: "}),(0,o.jsx)("span",{children:e.id})]}),(0,o.jsxs)("div",{className:"orders__column",children:[(0,o.jsx)("span",{className:"orders__label",children:"status:"}),(0,o.jsx)("span",{children:"pending"===e.status?"W realizacji":"Zako\u0144czony"})]}),(0,o.jsxs)("div",{className:"orders__column",children:[(0,o.jsx)("span",{className:"orders__label",children:"Zakupione produkty: "}),(0,o.jsx)("div",{className:"orders__products",children:m&&m[s].map((function(e,s){return(0,o.jsx)("span",{className:"orders__product",children:e},s)}))})]}),(0,o.jsxs)("div",{className:"orders__column",children:[(0,o.jsx)("span",{className:"orders__label",children:"Warto\u015b\u0107 zam\xf3wienia:"}),(0,o.jsxs)("span",{children:[e.totalPrice," z\u0142"]})]}),(0,o.jsxs)("div",{className:"orders__column orders__column--last",children:[(0,o.jsx)("span",{className:"orders__label",children:"Data: "}),(0,o.jsx)("span",{children:e.date})]})]},s)})):(0,o.jsx)("h3",{className:"orders__allert",children:"Twoja historia zam\xf3wie\u0144 jest pusta"})})})}}}]);
//# sourceMappingURL=198.9afb2a24.chunk.js.map
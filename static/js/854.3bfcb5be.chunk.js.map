{"version":3,"file":"static/js/854.3bfcb5be.chunk.js","mappings":"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","sources":["components/Cart/CartItem/CartItem.js","pages/CartPage/Sumarry.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport useData from \"../../../hooks/useData\";\r\n\r\nimport { changeRequestStatus } from \"../../../store/dataRequest\";\r\nimport { cartRemove, cartDelete, cartAdd } from \"../../../store/userData\";\r\n\r\nimport \"./CartItem.scss\";\r\n\r\nconst CartItem = (props) => {\r\n  const userData = useSelector((state) => state.userData.userData);\r\n  const isAuth = useSelector((state) => state.userAuth.token);\r\n  const dispatch = useDispatch();\r\n\r\n  const { dataRequest } = useData();\r\n\r\n  const increseAmount = async () => {\r\n    if(isAuth){\r\n      const increseAmount = await dataRequest({\r\n        method: \"PATCH\",\r\n        database: `users/${userData.id}/cart/${props.cart.id}`,\r\n        body: {\r\n          productId: props.id,\r\n          amount: props.amount + 1,\r\n          price: props.price,\r\n        },\r\n      });\r\n    }\r\n    else dispatch(cartAdd({\r\n      productId: props.cart.productId,\r\n      amount: props.cart.amount,\r\n      price: props.cart.price,\r\n    }))\r\n\r\n    dispatch(changeRequestStatus());\r\n  };\r\n\r\n  const decreseAmount = async () => {\r\n    if (isAuth) {\r\n      if (props.amount === 1) productCartRemove();\r\n      const decreseAmount = await dataRequest({\r\n        method: \"PATCH\",\r\n        database: `users/${userData.id}/cart/${props.cart.id}`,\r\n        body: {\r\n          productId: props.id,\r\n          amount: props.amount - 1,\r\n          price: props.price,\r\n        },\r\n      });\r\n    } else\r\n      dispatch(\r\n        cartRemove({\r\n          productId: props.cart.productId,\r\n          amount: props.cart.amount,\r\n          price: props.cart.price,\r\n        })\r\n      );\r\n\r\n    dispatch(changeRequestStatus());\r\n  };\r\n\r\n  const productCartRemove = async () => {\r\n    if (isAuth) {\r\n      const removeProduct = await dataRequest({\r\n        method: \"DELETE\",\r\n        database: `users/${userData.id}/cart/${props.cart.id}`,\r\n      });\r\n    } else\r\n      dispatch(\r\n        cartDelete({\r\n          productId: props.cart.productId,\r\n          amount: props.cart.amount,\r\n          price: props.cart.price,\r\n        })\r\n      );\r\n\r\n    dispatch(changeRequestStatus());\r\n  };\r\n\r\n  return (\r\n    <div className={`cart-item ${props.compact ? \"cart-item--compact\" : \"\"}`}>\r\n      <img\r\n        src={props.img}\r\n        alt=\"product img\"\r\n        className={`cart-item__image ${\r\n          props.compact ? \"cart-item__image--compact\" : \"\"\r\n        }`}\r\n      />\r\n      <div className=\"cart-item__name\">\r\n        <span>{props.name}</span>\r\n      </div>\r\n      <div\r\n        className={`cart-item__amount ${\r\n          props.compact ? \"cart-item__amount--hide\" : \"\"\r\n        }`}\r\n      >\r\n        <i\r\n          className=\"fa-solid fa-plus cart-item__icon\"\r\n          onClick={increseAmount}\r\n        ></i>\r\n        <span className=\"cart-item__number\">{props.amount}</span>\r\n        <i\r\n          className=\"fa-solid fa-minus cart-item__icon\"\r\n          onClick={decreseAmount}\r\n        ></i>\r\n      </div>\r\n      <div\r\n        className={`cart-item__remove ${\r\n          props.compact ? \"cart-item__remove--hide\" : \"\"\r\n        }`}\r\n      >\r\n        <i\r\n          className=\"fa-solid fa-trash-can cart-item__icon\"\r\n          onClick={productCartRemove}\r\n        ></i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nimport CartItem from \"../../components/Cart/CartItem/CartItem\";\r\n\r\nimport \"./Sumarry.scss\";\r\n\r\nconst Sumarry = () => {\r\n  const totalPrice = useSelector((state) => state.orderData.totalPrice);\r\n  const customerData = useSelector((state) => state.orderData.customerData);\r\n  const paymentMethod = useSelector((state) => state.orderData.paymentMethod);\r\n  const deliveryMethod = useSelector((state) => state.orderData.deliveryMethod);\r\n  const orderProducts = useSelector((state) => state.orderData.products);\r\n  const cart = useSelector((state) => state.userData.cart);\r\n\r\n  return (\r\n    <div className=\"summary\">\r\n      <div className=\"summary__container\">\r\n        <h2 className=\"summary__title\">Zamawiane produkty:</h2>\r\n        {orderProducts &&\r\n          orderProducts.map((product, index) => (\r\n            <CartItem\r\n              key={index}\r\n              img={product.img}\r\n              name={product.name}\r\n              amount={cart[index] && cart[index].amount}\r\n              compact={true}\r\n            />\r\n          ))}\r\n          <div className=\"summary__totalprice\">\r\n            <span>Do zapłaty: {totalPrice.toFixed(2)} zł</span>\r\n          </div>\r\n      </div>\r\n      <div className=\"summary__container\">\r\n        <h2 className=\"summary__title\">Dane odbiorcy:</h2>\r\n        <span className=\"summary__text\">{customerData.name} {customerData.surname}</span>\r\n        <span className=\"summary__text\">{customerData.street}</span>\r\n        <span className=\"summary__text\">{customerData.zipcode} {customerData.city}</span>\r\n        <span className=\"summary__text\">{customerData.email}</span>\r\n        <span className=\"summary__text\">{customerData.phone}</span>\r\n      </div>\r\n      <div className=\"summary__container\">\r\n        <h2 className=\"summary__title\">Dostawa i płatność:</h2>\r\n        <span className=\"summary__label\">Sposób dostawy:</span>\r\n        <span className=\"summary__text\">{deliveryMethod}</span>\r\n        <span className=\"summary__label\">Metoda płatności:</span>\r\n        <span className=\"summary__text\">{paymentMethod}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sumarry;\r\n"],"names":["props","userData","useSelector","state","isAuth","userAuth","token","dispatch","useDispatch","dataRequest","useData","increseAmount","method","database","id","cart","body","productId","amount","price","cartAdd","changeRequestStatus","decreseAmount","productCartRemove","cartRemove","cartDelete","className","compact","src","img","alt","name","onClick","totalPrice","orderData","customerData","paymentMethod","deliveryMethod","orderProducts","products","map","product","index","CartItem","toFixed","surname","street","zipcode","city","email","phone"],"sourceRoot":""}